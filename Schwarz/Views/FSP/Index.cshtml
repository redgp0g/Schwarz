@model IEnumerable<Schwarz.Models.FSP>

@{
	ViewData["Title"] = "Index";
}

<h1>Tabela de FSP</h1>
<div class="container mx-auto px-4 sm:px-8">
	<a asp-action="Create" class="group block max-w-xs ml-auto rounded-lg p-6 bg-white ring-1 ring-slate-900/5 shadow-lg space-y-3 hover:bg-red-600 hover:ring-red-800">
		<div class="flex items-center space-x-3">
			<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-6 h-6">
				<path stroke-linecap="round" stroke-linejoin="round" d="M12 4.5v15m7.5-7.5h-15" />
			</svg>


			<h3 class="text-slate-900 group-hover:text-white text-sm font-semibold">Abrir FSP</h3>
		</div>
	</a>
	<div class="-mx-4 sm:-mx-8 px-4 sm:px-8 py-4 overflow-x-auto my-4">
		<div class="bg-white inline-block min-w-full shadow rounded-lg overflow-hidden p-5">
			<table class="table" id="table">
				<thead>
					<tr>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
							@Html.DisplayNameFor(model => model.Numero)
						</th>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
							@Html.DisplayNameFor(model => model.DataAbertura)
						</th>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
							@Html.DisplayNameFor(model => model.DataFechamento)
						</th>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
							@Html.DisplayNameFor(model => model.Produto)
						</th>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
							@Html.DisplayNameFor(model => model.Codigo)
						</th>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
							@Html.DisplayNameFor(model => model.Origem)
						</th>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">
							@Html.DisplayNameFor(model => model.Falha)
						</th>
						<th class="px-5 py-3 border-b-2 border-gray-200 bg-gray-100 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider">Ações</th>
					</tr>
				</thead>
				<tbody>
					@foreach (var item in Model)
					{
						<tr>
							<td>
								@Html.DisplayFor(modelItem => item.Numero)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.DataAbertura)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.DataFechamento)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Produto)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Codigo)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Origem)
							</td>
							<td>
								@Html.DisplayFor(modelItem => item.Falha.IDFalha)
							</td>
							<td>
								<a style="padding: 7px 10px;margin-top: 0;" class="btn btn-edit" asp-action="Edit" asp-route-id="@item.IDFSP">Editar</a>
								<a style="padding: 7px 10px;margin-top: 0;" class="btn btn-info" asp-action="Details" asp-route-id="@item.IDFSP">Detalhes</a>
								<a style="padding: 7px 10px;margin-top: 0;" class="btn btn-danger" asp-action="Delete" asp-route-id="@item.IDFSP">Deletar</a>
							</td>
						</tr>
					}
				</tbody>
			</table>
		</div>
	</div>
</div>
<script>
	$(document).ready(function () {
		// inicializa o DataTables
		var table = $('#table').DataTable({
			"language": {
				"url": "https://cdn.datatables.net/plug-ins/1.13.4/i18n/pt-BR.json"
			},
			"dom": '<"row"<"col-sm-12 col-md-6"l><"col-sm-12 col-md-6"f>>' +
				'<"row"<"col-sm-12"tr>>' +
				'<"row"<"col-sm-12 col-md-5"i><"col-sm-12 col-md-7"p>>',
			"lengthMenu": [[10, 25, 50, -1], [10, 25, 50, "All"]],
			"scrollY": "60vh",
			"scrollCollapse": true,
			"autoWidth": true,
			"responsive": true
		});
	});
</script>